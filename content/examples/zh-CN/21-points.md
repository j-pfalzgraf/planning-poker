# 21 故事点 – 非常大的变更

> **工作量：** 1-2 周
> **风险：** 高
> **测试：** 全面测试套件 + QA 审查

---

## 示例 1：基于角色的权限

**标题：** 实现角色和权限系统

**描述：**
引入角色（管理员、经理、用户）和细粒度权限。UI 元素和 API 端点相应地受到保护。

**验收标准：**

- [ ] 角色：管理员、经理、用户、访客
- [ ] 每个功能的权限（CRUD）
- [ ] 角色管理的管理界面
- [ ] 前端：条件显示元素
- [ ] 后端：授权中间件
- [ ] 权限变更的审计日志
- [ ] 现有用户迁移

---

## 示例 2：多租户

**标题：** 引入多租户支持

**描述：**
应用程序应支持多个独立的租户（公司）。严格的数据隔离。

**验收标准：**

- [ ] 所有相关表中包含租户 ID
- [ ] 基于子域名或请求头的租户检测
- [ ] 超级管理员的租户切换器
- [ ] 每个租户的数据隔离
- [ ] 租户特定的配置
- [ ] 现有数据迁移

---

## 示例 3：国际化（i18n）

**标题：** 完整的多语言支持（中、英、日）

**描述：**
整个应用程序应支持三种语言。无需重新加载即可动态切换语言。

**验收标准：**

- [ ] 所有 UI 文本外部化
- [ ] 中文、英文、日文语言文件
- [ ] 头部语言切换器
- [ ] 语言可保存在用户设置中
- [ ] 日期和数字格式本地化
- [ ] RTL 支持准备就绪

---

## 为什么是 21 点？

- 涉及整个系统的广泛变更
- 架构影响
- 高回归风险
- 复杂迁移
- 需要密集测试
