# 21 ストーリーポイント – 非常に大きな変更

> **工数:** 1〜2週間
> **リスク:** 高
> **テスト:** 包括的なテストスイート + QAレビュー

---

## 例 1: ロールベースの権限

**タイトル:** ロールと権限システムの実装

**説明:**
ロール（管理者、マネージャー、ユーザー）を導入し、きめ細かな権限を設定します。UI要素とAPIエンドポイントは適切に保護されます。

**受け入れ基準:**

- [ ] ロール: 管理者、マネージャー、ユーザー、ゲスト
- [ ] 機能ごとの権限（CRUD）
- [ ] ロール管理用の管理画面UI
- [ ] フロントエンド: 要素の条件付き表示
- [ ] バックエンド: 認可用ミドルウェア
- [ ] 権限変更の監査ログ
- [ ] 既存ユーザーの移行

---

## 例 2: マルチテナンシー

**タイトル:** マルチテナントサポートの導入

**説明:**
アプリケーションは複数の独立したテナント（企業）をサポートする必要があります。厳格なデータ分離を行います。

**受け入れ基準:**

- [ ] すべての関連テーブルにテナントID
- [ ] サブドメインまたはヘッダーベースのテナント検出
- [ ] スーパー管理者用テナント切り替え
- [ ] テナントごとの分離データ
- [ ] テナント固有の設定
- [ ] 既存データの移行

---

## 例 3: 国際化（i18n）

**タイトル:** 完全な多言語サポート（英語、ドイツ語、フランス語）

**説明:**
アプリケーション全体を3つの言語で利用可能にします。リロードなしで動的に言語を切り替えます。

**受け入れ基準:**

- [ ] すべてのUIテキストを外部化
- [ ] 英語、ドイツ語、フランス語の言語ファイル
- [ ] ヘッダーに言語切り替え
- [ ] ユーザー設定に言語を保存可能
- [ ] 日付と数値フォーマットのローカライズ
- [ ] RTLサポートの準備

---

## なぜ 21 ポイントなのか？

- システム全体にわたる広範な変更
- アーキテクチャへの影響
- リグレッションの高いリスク
- 複雑な移行
- 集中的なテストが必要
